<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="stylesheet" href="./styles/style.css">
<link rel="stylesheet" href="./styles/Register.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" >
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript" >

$(document).on("submit", "#RegisterForm", function(event) {
    var $form = $('#loginForm');
	console.log('Post Sending')
    $.post($form.attr("action"),  $('#RegisterForm').serialize(), function(responseText) {
		console.log('Post Success')
    	if(responseText === "error"){
			console.log('failed login')
			$('#error').text('Invalid Username or Password');
			event.preventDefault()
		}
    	else {
			console.log('Successful login')
    	}
    });

});

</script>
<title>Create a user</title>

</head>
<body>

	<div class="header"  style="background-color: black; padding: 12px;">
		<a class="btn btn-primary btn active" href="index.html">Log In</a>
		<a class="btn btn-primary btn active" href="createUser.html">Register a new user</a>
	</div>

	<div class="loginRegisterDiv">
		<form id="RegisterForm" method="post" action="/WebsiteBuilder/CreateUser">
			<h2>Register new user</h2>
			<label>Username:</label>
			<input type="text" class="form-control" name="username" />
			<br>
			<label>Password:</label>
			<input type="password" class="form-control" name="password" />
			<br>
			<label>Retype Password:</label>
			<input type="password" class="form-control" name="retype_password" />
			<br>
			<h3 style="color:red;" id="error"></h3>
			<br>
			<input class="btn btn-default" type="submit" name="submit" value="Create User" />
			<br>
			<br>
		</form>
	</div>
</body>
</html>